<!DOCTYPE html>
<!--
Class    : Software Development II
Professor: Matthew Johnson 
Lab01    : Heat Index Calculator
Author   : Tyler Rimaldi

<html lang="en">
  <head>
    <title>Lab01 - Heat Index Calculator</title>
    <meta charset="utf-8"/>
  </head>
  <body>
    <!-- Description of the Web Application -->
    <h1>Heat Index Calculator</h1>
    <p>This is a web application that allows the user to enter a temperature
       in Fahrenheit and a relative humidity as a percentage between 0 and 100%.
       The web application will then compute the index according to a formula.</p>
    <form onsubmit="return false;">
    <!--Accept user input via form. Then pass input to JS for computation.-->
      <label>
        Temperature (F&deg;)
        <input type="number" id="tempInput" placeholder="Temperature"/>
      </label>

      <br/>

      <label>
        Relative Humidity (0-100%)
        <input type="number" id="humidityInput" placeholder="Relative Humidity"/>
      </label>

      <br/>
      <!--Pass user input to JS for computation-->
      <button onclick="computeHeatIndex();">Compute the Heat Index</button>
      <!--Display user readable results from JS computation.-->
      <output id="result"></output>
    </form>
    <script>
      function computeHeatIndex() {
        var temperatureElem = document.querySelector('#tempInput');
        var humidityElem = document.querySelector('#humidityInput');
        var outputElem = document.querySelector('#result');

        var temp = temperatureElem.value;
        var relHumPercent = humidityElem.value;
        var relHumDec = relHum1/100;

        //Check if user percentage is between 0 and 100 inclusively, if so
        //compute the heat index, else give the user some feedback to correct
        //the input values
        if ((relHumPercent >= 0) && (relHumPercent <= 100)) {
            var index = -42.379 + 2.04901523 * temp + 10.14333127 * relHumDec -
                        0.22475541 * temp * relHumDec - 0.00683783 *
                        Math.pow(temp, 2) - 0.05481717 * Math.pow(relHumDec, 2)
                        + 0.00122874 * Math.pow(temp, 2) * relHumDec + 0.00085282
                        * temp * Math.pow(relHumDec, 2) - 0.00000199 *
                        Math.pow(temp,2) * Math.pow(relHumDec, 2);
            outputElem.innerHTML = 'The heat index for a temperature of '
                                   + temp + ' and relative humidity of ' + relHum1
                                   + '% is ' + index
        } //if
        else{
          outputElem.innerHTML = 'Please enter a valid Relative Humidity'
        } //else
      } //computeheatIndex
    </script>
  </body>
</html>
